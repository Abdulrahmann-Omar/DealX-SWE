{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{motion}from'framer-motion';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Card(_ref){let{product}=_ref;const[inCart,setInCart]=useState(false);const[inWishlist,setInWishlist]=useState(false);const navigate=useNavigate();const handleAddToCart=async()=>{try{if(!inCart){const requestData={quantity:product.stock_quantity,cart_id:123};await axios.post(`http://localhost:5000/api/cart/${product.product_id}`,requestData);setInCart(true);alert('Product added to cart!');}else{navigate('/cart');}}catch(error){console.error('Error adding to cart:',error);}};const handleAddToWishlist=async()=>{try{if(!inWishlist){await axios.post('/api/wishlist',{productId:product.id});setInWishlist(true);alert('Product added to wishlist!');}else{navigate('/wishlist');}}catch(error){console.error('Error adding to wishlist:',error);}};const handleCardClick=product=>{navigate(`/product`,{state:{product}});};return/*#__PURE__*/_jsxs(motion.div,{className:\"product-card\",onClick:()=>handleCardClick(product),initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:0.6},viewport:{once:true}// Trigger animation once when card is in view\n,children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-image\",children:/*#__PURE__*/_jsx(\"img\",{src:product.image_url,alt:\"Product Image\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-details\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"product-title\",children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:\"product-description\",children:product.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-footer\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"product-price\",children:[\"$\",product.price]}),/*#__PURE__*/_jsxs(\"button\",{className:\"add-to-cart\",onClick:e=>{e.stopPropagation();handleAddToCart();},children:[\" \",/*#__PURE__*/_jsx(\"div\",{className:\"fa fa-shopping-cart\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"add-to-cart\",onClick:e=>{e.stopPropagation();// Prevent triggering card click\nhandleAddToWishlist();},children:/*#__PURE__*/_jsx(\"div\",{className:\"fa-solid fa-heart-circle-plus\"})})]})]})]});}export default Card;","map":{"version":3,"names":["React","useState","useNavigate","axios","motion","jsx","_jsx","jsxs","_jsxs","Card","_ref","product","inCart","setInCart","inWishlist","setInWishlist","navigate","handleAddToCart","requestData","quantity","stock_quantity","cart_id","post","product_id","alert","error","console","handleAddToWishlist","productId","id","handleCardClick","state","div","className","onClick","initial","opacity","y","whileInView","transition","duration","viewport","once","children","src","image_url","alt","name","description","price","e","stopPropagation"],"sources":["C:/Users/Abdu Omar/Desktop/SWE/DealX-SWE/frontend/src/Card.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom'; \r\nimport axios from 'axios';\r\nimport { motion } from 'framer-motion';\r\n\r\nfunction Card({ product }) {\r\n  const [inCart, setInCart] = useState(false); \r\n  const [inWishlist, setInWishlist] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleAddToCart = async () => {\r\n      try {\r\n        if (!inCart) {\r\n\r\n          const requestData = {\r\n          \r\n            quantity: product.stock_quantity,     \r\n            cart_id: 123,      \r\n          };\r\n\r\n          await axios.post(`http://localhost:5000/api/cart/${product.product_id}` ,requestData);\r\n          setInCart(true);\r\n          alert('Product added to cart!');\r\n        } else {\r\n\r\n          navigate('/cart');\r\n        }\r\n    } catch (error) {\r\n      console.error('Error adding to cart:', error);\r\n    }\r\n  };\r\n\r\n\r\n  const handleAddToWishlist = async () => {\r\n    try {\r\n      if (!inWishlist) {\r\n        await axios.post('/api/wishlist', { productId: product.id });\r\n        setInWishlist(true);\r\n        alert('Product added to wishlist!');\r\n      } else {\r\n        navigate('/wishlist'); \r\n      }\r\n    } catch (error) {\r\n      console.error('Error adding to wishlist:', error);\r\n    }\r\n  };\r\n\r\n  const handleCardClick = (product) => {\r\n    navigate(`/product` , {state : {product}});\r\n  };\r\n\r\n  return (\r\n    <motion.div \r\n    className=\"product-card\" onClick={() => handleCardClick(product)}\r\n    initial={{ opacity: 0, y: 50 }}\r\n    whileInView={{ opacity: 1, y: 0 }}\r\n    transition={{ duration: 0.6 }}\r\n    viewport={{ once: true }} // Trigger animation once when card is in view\r\n  >\r\n    \r\n    \r\n         <div className=\"card-image\">\r\n        <img src={product.image_url} alt=\"Product Image\" />\r\n      </div>\r\n      <div className=\"card-details\">\r\n        <h3 className=\"product-title\">{product.name}</h3>\r\n        <p className=\"product-description\">{product.description}</p>\r\n        <div className=\"card-footer\">\r\n          <span className=\"product-price\">${product.price}</span>\r\n          <button\r\n            className=\"add-to-cart\"\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              handleAddToCart();\r\n            }}\r\n          > <div className=\"fa fa-shopping-cart\"></div>\r\n         </button>\r\n          <button\r\n            className=\"add-to-cart\"\r\n            onClick={(e) => {\r\n              e.stopPropagation(); // Prevent triggering card click\r\n              handleAddToWishlist();\r\n            }}\r\n          ><div className=\"fa-solid fa-heart-circle-plus\"></div>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}